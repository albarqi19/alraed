# โ ุฏููู ุชูุนูู ูุธุงู ุงููุฏุงุก ุงูุขูู

## ุงููุดููุฉ ุงูุดุงุฆุนุฉ

ุนูุฏ ูุชุญ ุตูุญุฉ ููู ุงูุฃูุฑ ุชุธูุฑ ุฑุณุงูุฉ:
```
ุฎุฏูุฉ ุงููุฏุงุก ูุชูููุฉ ุญุงููุงู. ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู ุฃู ุงูุชูุงุตู ูุน ุฅุฏุงุฑุฉ ุงููุฏุฑุณุฉ.
```

## ุงูุฃุณุจุงุจ ุงููุญุชููุฉ ูุงูุญููู

### ุงูุณุจุจ 1: ุงูุฅุนุฏุงุฏุงุช ุบูุฑ ููุฌูุฏุฉ ูู Firestore โ **ุงูุญู ุงูุฃูุซุฑ ุดููุนุงู**

**ุงูุชุญูู:**
1. ุงูุชุญ Firebase Console: https://console.firebase.google.com
2. ุงุฐูุจ ุฅูู Firestore Database
3. ุงุจุญุซ ุนู ุงููุณุงุฑ:
   ```
   schools/{schoolId}/autoCalls/settings
   ```

**ุฅุฐุง ูู ุชุฌุฏ ูุฐุง ุงููุณุงุฑ:**

#### ุงูุทุฑููุฉ 1: ุฅูุดุงุก ุงูุฅุนุฏุงุฏุงุช ูุฏููุงู

1. ูู Firestore Console ุงุถุบุท **Start collection**
2. Collection ID: `schools`
3. ุงุถุบุท Next
4. Document ID: `school_test_001` (ุฃู ุงููุนุฑูู ูู `.env`)
5. **ูุง ุชุถู ุญููู**ุ ููุท ุงุถุบุท **Save**
6. ุงุถุบุท ุนูู ูุซููุฉ `school_test_001` ุงูุชู ุฃูุดุฃุชูุง
7. ุงุถุบุท **Start collection**
8. Collection ID: `autoCalls`
9. ุงุถุบุท Next
10. Document ID: `settings`
11. ุฃุถู ุงูุญููู ุงูุชุงููุฉ:

| Field Name | Type | Value |
|------------|------|-------|
| enabled | boolean | โ true |
| displayTheme | string | dark |
| enableSpeech | boolean | true |
| repeatIntervalSeconds | number | 120 |
| announcementDurationSeconds | number | 30 |
| allowGuardianAcknowledgement | boolean | true |

12. ุงุถุบุท **Save**

#### ุงูุทุฑููุฉ 2: ุงูุชูุนูู ูู ุตูุญุฉ ุงูุฅุฏุงุฑุฉ

1. ุงูุชุญ ุตูุญุฉ ุงูุฅุฏุงุฑุฉ:
   ```
   http://localhost:5173/admin/auto-call
   ```

2. ุงุฐูุจ ุฅูู ุชุจููุจ **Settings**

3. ูุนูู ุงูููุชุงุญ ุงูุฑุฆูุณู:
   - โ **ุชูุนูู ุงููุธุงู** โ ุงุฌุนูู `ููุนูู`

4. ุงุถุบุท **ุญูุธ ุงูุฅุนุฏุงุฏุงุช**

5. ุชุญูู ูู Firestore Console ุฃู ุงูุฅุนุฏุงุฏุงุช ุชู ุญูุธูุง

---

### ุงูุณุจุจ 2: ูุนุฑูู ุงููุฏุฑุณุฉ ุบูุฑ ูุญุฏุฏ

**ุงูุชุญูู:**
ุงูุชุญ Console ูู ุงููุชุตูุญ (F12) ูุงุจุญุซ ุนู ุฑุณุงุฆู ูุซู:
```
schoolId: null
```

**ุงูุญู:**

#### ูู ููู `.env`:
```bash
VITE_AUTO_CALL_FALLBACK_SCHOOL_ID=school_test_001
```

**ุฎุทูุงุช:**
1. ุงูุชุญ ููู `.env` ูู ูุฌูุฏ ุงููุดุฑูุน
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงูุณุทุฑ ุฃุนูุงู
3. ุฅุฐุง ูู ููู ููุฌูุฏุงูุ ุฃุถูู
4. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู:
   ```powershell
   npm run dev
   ```

---

### ุงูุณุจุจ 3: ูููุฉ `enabled` ุฎุงุทุฆุฉ ูู Firestore

**ุงูุชุญูู:**
ูู Firestore Consoleุ ุชุญูู ูู ูููุฉ ุงูุญูู:
```
schools/school_test_001/autoCalls/settings/enabled
```

**ุงูุญู:**
1. ุงุถุบุท ุนูู ูุซููุฉ `settings`
2. ุงุจุญุซ ุนู ุญูู `enabled`
3. ุชุฃูุฏ ุฃู ููุนู `boolean` ููููุชู `true` (ูุน ุนูุงูุฉ โ)
4. ุฅุฐุง ูุงู `string` ุฃู `false`ุ ุนุฏููู:
   - ุงุญุฐู ุงูุญูู
   - ุฃุถูู ูู ุฌุฏูุฏ ุจููุน `boolean` ููููุฉ `true`

---

### ุงูุณุจุจ 4: ุฎุทุฃ ูู ููุงุนุฏ Firestore

**ุงูุชุญูู:**
ูู Console ุงููุชุตูุญุ ุงุจุญุซ ุนู ุฃุฎุทุงุก ูุซู:
```
Permission denied
Missing or insufficient permissions
```

**ุงูุญู:**
ุฑุงุฌุน `FIRESTORE_QUICK_START.md` โ ูุณู "ููุงุนุฏ ุงูุฃูุงู"

**ุงููุงุนุฏุฉ ุงููุคูุชุฉ ููุงุฎุชุจุงุฑ:**
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

โ๏ธ ูุฐู ููุงุนุฏ ุงุฎุชุจุงุฑ ููุท - ูุง ุชุณุชุฎุฏููุง ูู ุงูุฅูุชุงุฌ!

---

## ุงูุฎุทูุงุช ุงููุงููุฉ ููุชูุนูู ูู ุงูุตูุฑ

### 1. ุชุฃูุฏ ูู ููู `.env`
```powershell
# ุชุญูู ูู ูุฌูุฏ ุงูููู
Test-Path .env

# ุฅุฐุง ูู ููู ููุฌูุฏุงู
Copy-Item .env.example .env
```

ุชุฃูุฏ ูู ูุญุชููุงุช `.env`:
```bash
VITE_FIREBASE_API_KEY=AIzaSyAeJ0Q7DnO1w2veu4MwoUGIcZKDy1KxBAM
VITE_FIREBASE_AUTH_DOMAIN=alraed-8db3a.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=alraed-8db3a
VITE_FIREBASE_STORAGE_BUCKET=alraed-8db3a.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=890280441907
VITE_FIREBASE_APP_ID=1:890280441907:web:4f08a69bbed60191d04b46
VITE_FIREBASE_DATABASE_URL=https://alraed-8db3a-default-rtdb.firebaseio.com
VITE_FIREBASE_MEASUREMENT_ID=G-6FQF5H7BSJ
VITE_AUTO_CALL_FALLBACK_SCHOOL_ID=school_test_001
```

### 2. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู
```powershell
# ุฃููู ุงูุฎุงุฏู (Ctrl+C)
# ุซู ุดุบูู ูู ุฌุฏูุฏ
npm run dev
```

### 3. ุงูุชุญ ุตูุญุฉ ุงูุฅุฏุงุฑุฉ
```
http://localhost:5173/admin/auto-call
```

### 4. ูุนูู ุงููุธุงู ูู Settings
- ุชุจููุจ **Settings**
- ูุนูู ููุชุงุญ **ุชูุนูู ุงููุธุงู**
- ุงุถุบุท **ุญูุธ ุงูุฅุนุฏุงุฏุงุช**

### 5. ุชุญูู ูู Firestore
ุงูุชุญ Firebase Console ูุชุฃูุฏ ูู ูุฌูุฏ:
```
schools/
  โโโ school_test_001/
      โโโ autoCalls/
          โโโ settings (document)
              โโโ enabled: true โ
              โโโ displayTheme: "dark"
              โโโ ... (ุจุงูู ุงูุญููู)
```

### 6. ุงุฎุชุจุฑ ุตูุญุฉ ููู ุงูุฃูุฑ
```
http://localhost:5173/guardian/leave-request
```

**ูุฌุจ ุฃู ุชุฑู:**
- โ ุญูู ุฅุฏุฎุงู ุฑูู ุงููููุฉ
- โ ุจุนุฏ ุงูุฅุฏุฎุงู: ูุนูููุงุช ุงูุทุงูุจ
- โ ุจุทุงูุฉ "ุงููุฏุงุก ุงูุขูู ูุงุณุชูุงู ุงูุทุงูุจ"
- โ ุฒุฑ "ุทูุจ ุงุณุชูุงู ุงูุทุงูุจ" (ููุนูู)

**ุฅุฐุง ูุง ุฒุงูุช ุงูุฑุณุงูุฉ ุชุธูุฑ:**
- ุงูุชุญ Console (F12)
- ุงุจุญุซ ุนู ุฃุฎุทุงุก
- ุชุญูู ูู ุงูุจูุงูุงุช ูู Firestore ูุฑุฉ ุฃุฎุฑู

---

## ุงุฎุชุจุงุฑ ุณุฑูุน

### ุงูุทุฑููุฉ ุงูุฃุณุฑุน ููุชุญูู

ุงูุชุญ Console ูู ุงููุชุตูุญ (F12) ุนูู ุตูุญุฉ ููู ุงูุฃูุฑ ูุงูุชุจ:

```javascript
// ุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช ุงููุญููุฉ
console.log('Settings:', window.__REACT_DEVTOOLS_GLOBAL_HOOK__)
```

ุฃู ุงุจุญุซ ูู Network tab ุนู ุทูุจุงุช Firestore ูุชุญูู ูู ุงูุงุณุชุฌุงุจุงุช.

---

## ุญู ุงููุดุงูู ุงููุชูุฏูุฉ

### ุงููุดููุฉ: ุงูุฅุนุฏุงุฏุงุช ููุฌูุฏุฉ ููู ูุง ุชููุฑุฃ

**ุงูุณุจุจ:** ูุดููุฉ ูู ุงูุงุดุชุฑุงูุงุช ุงููุญุธูุฉ

**ุงูุญู:**
1. ุฃุบูู ุฌููุน ุงูุชุจููุจุงุช
2. ุงูุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ:
   - ุงูุชุญ DevTools (F12)
   - ุงุถุบุท ุจูููู ุงููุงูุณ ุนูู ุฒุฑ Reload
   - ุงุฎุชุฑ "Empty Cache and Hard Reload"
3. ุฃุนุฏ ูุชุญ ุงูุตูุญุฉ

### ุงููุดููุฉ: ุงูุฅุนุฏุงุฏุงุช ุชุธูุฑ ูู ุงูุฅุฏุงุฑุฉ ููู ูุง ุชุธูุฑ ูู ุตูุญุฉ ููู ุงูุฃูุฑ

**ุงูุณุจุจ:** ุงููุฏุฑุณุฉ ุบูุฑ ูุชุทุงุจูุฉ

**ุงูุญู:**
ุชุญูู ุฃู `schoolId` ูุชุทุงุจู ูู:
- `.env` โ `VITE_AUTO_CALL_FALLBACK_SCHOOL_ID`
- Firestore โ `schools/{schoolId}/...`
- ุตูุญุฉ ุงูุฅุฏุงุฑุฉ โ ุงูุธุฑ ููุนููุงู ุงููุฑุนู "ุงููุฏุฑุณุฉ ุงููุฑุชุจุทุฉ"

---

## ุงูููุฎุต - ูุงุฆูุฉ ุงูุชุญูู

- [ ] ููู `.env` ููุฌูุฏ ููุญุชูู ุนูู ูุชุบูุฑุงุช Firebase
- [ ] `VITE_AUTO_CALL_FALLBACK_SCHOOL_ID` ูุญุฏุฏ ูู `.env`
- [ ] ุงูุฎุงุฏู ูุนูู (`npm run dev`)
- [ ] Firestore Database ููุนูู ูู Firebase Console
- [ ] ููุงุนุฏ ุงูุฃูุงู ุชุณูุญ ุจุงููุฑุงุกุฉ/ุงููุชุงุจุฉ (test mode ูุคูุชุงู)
- [ ] ูุซููุฉ ุงูุฅุนุฏุงุฏุงุช ููุฌูุฏุฉ: `schools/{schoolId}/autoCalls/settings`
- [ ] ุงูุญูู `enabled` ููุนู `boolean` ููููุชู `true`
- [ ] ุตูุญุฉ ุงูุฅุฏุงุฑุฉ ุชุนูู ูุชุนุฑุถ ุงูุฅุนุฏุงุฏุงุช
- [ ] ุตูุญุฉ ููู ุงูุฃูุฑ ูุง ุชุธูุฑ ุฑุณุงูุฉ "ุงูุฎุฏูุฉ ูุชูููุฉ"

ุฅุฐุง ุฃูููุช ุฌููุน ุงูููุงุท ุฃุนูุงูุ ูุฌุจ ุฃู ูุนูู ุงููุธุงู ุจุดูู ุตุญูุญ! ๐

---

## ุงููุณุงุนุฏุฉ ุงูุฅุถุงููุฉ

ุฑุงุฌุน ุงููููุงุช ุงูุชุงููุฉ ููุญุตูู ุนูู ุชูุงุตูู ุฃูุซุฑ:
- `FIRESTORE_QUICK_START.md` - ุงูุจุฏุก ุงูุณุฑูุน ูุน Firestore
- `FIREBASE_SETUP_GUIDE.md` - ุงูุฏููู ุงูุดุงูู
- `GUARDIAN_PAGE_GUIDE.md` - ุดุฑุญ ุตูุญุฉ ููู ุงูุฃูุฑ
- `ROUTES_GUIDE.md` - ุฏููู ุงููุณุงุฑุงุช ุงููุงูู
