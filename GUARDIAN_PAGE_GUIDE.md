# ุฏููู ุงุณุชุฎุฏุงู ุตูุญุฉ ููู ุงูุฃูุฑ - ุทูุจ ุงููุฏุงุก ุงูุขูู

## ๐ ุงููุณุงุฑ ุงูุฑุฆูุณู

```
http://localhost:5173/guardian/leave-request
```

## ๐ฑ ููููุฉ ุฅูุดุงุก ุทูุจ ูุฏุงุก

### ุงูุทุฑููุฉ 1: ูู ุฎูุงู ุงููุชุตูุญ ูุจุงุดุฑุฉ

1. **ุงูุชุญ ุงููุชุตูุญ ูุชูุฌู ุฅูู:**
   ```
   http://localhost:5173/guardian/leave-request
   ```

2. **ุณุชุฌุฏ ูุงุฌูุฉ ููู ุงูุฃูุฑ ุงูุชู ุชุญุชูู ุนูู:**
   - ุจุทุงูุฉ ูุนูููุงุช ุงูุทุงูุจ
   - ุฒุฑ "ุทูุจ ุงุณุชูุงู ุงูุทุงูุจ"
   - ูุนูููุงุช ุญุงูุฉ ููู ุงูุฃูุฑ (ุฅุฐุง ูุงู ูุญุธูุฑุงู ุฃู ูุฏูู ูุฎุงููุงุช)

3. **ุงุถุบุท ุนูู ุฒุฑ "ุทูุจ ุงุณุชูุงู ุงูุทุงูุจ"**
   - ุณูุชู ุฅุฑุณุงู ุงูุทูุจ ุฅูู Firestore
   - ุณูุธูุฑ ุงูุทุงูุจ ูู ุดุงุดุฉ ุงูุนุฑุถ ููุฑุงู
   - ุณูุธูุฑ ุฃูุถุงู ูู ุตูุญุฉ ุงูุฅุฏุงุฑุฉ

### ุงูุทุฑููุฉ 2: ูุน ูุนุงูู URL (ูุชุญุฏูุฏ ุงูุทุงูุจ)

ููููู ุชูุฑูุฑ ูุนูููุงุช ุงูุทุงูุจ ุนุจุฑ URL:

```
http://localhost:5173/guardian/leave-request?studentId=123
```

ุฃู ุจุงุณุชุฎุฏุงู ุงูุฑูู ุงููุทูู ููุทุงูุจ:

```
http://localhost:5173/guardian/leave-request?nationalId=1234567890
```

## ๐ฏ ุณููุงุฑูู ุงูุงุณุชุฎุฏุงู ุงููุงูู

### ุงูุฎุทูุฉ 1: ุงูุชุญ ุตูุญุฉ ููู ุงูุฃูุฑ
```powershell
# ูู ุงููุชุตูุญ
http://localhost:5173/guardian/leave-request
```

### ุงูุฎุทูุฉ 2: ุงูุชุญ ุดุงุดุฉ ุงูุนุฑุถ ูู ุชุจููุจ ุขุฎุฑ
```powershell
# ูู ุชุจููุจ ุซุงูู ูู ุงููุชุตูุญ
http://localhost:5173/display/auto-call
```

### ุงูุฎุทูุฉ 3: ุงูุชุญ ุตูุญุฉ ุงูุฅุฏุงุฑุฉ (ุงุฎุชูุงุฑู)
```powershell
# ูู ุชุจููุจ ุซุงูุซ
http://localhost:5173/admin/auto-call
```

### ุงูุฎุทูุฉ 4: ุฃูุดุฆ ุทูุจ ูุฏุงุก
- ูู ุตูุญุฉ ููู ุงูุฃูุฑุ ุงุถุบุท "ุทูุจ ุงุณุชูุงู ุงูุทุงูุจ"
- ุณุชูุงุญุธ ููุฑุงู:
  - โ ุธููุฑ ุงูุทุงูุจ ูู ุดุงุดุฉ ุงูุนุฑุถ
  - โ ุฅุถุงูุฉ ุงูุทูุจ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ (Queue) ูู ุตูุญุฉ ุงูุฅุฏุงุฑุฉ
  - โ ุชุบููุฑ ุญุงูุฉ ุงูุทูุจ ุฅูู "announcing" ุฅุฐุง ูุงู ุงูุฃูู

## ๐ ูุชุทูุจุงุช ุงูุงุณุชุฎุฏุงู

### 1. ูุฌุจ ุฃู ูููู ูุฏูู:
- โ Firestore ููุนูู ููููุฃ (ุฑุงุฌุน `FIRESTORE_QUICK_START.md`)
- โ ููู `.env` ูุญุชูู ุนูู ูุชุบูุฑุงุช Firebase
- โ ูุนุฑูู ูุฏุฑุณุฉ ูุญุฏุฏ (ูู `.env` ุฃู ูู ุชุณุฌูู ุงูุฏุฎูู)

### 2. ุงูุจูุงูุงุช ุงููุทููุจุฉ:
ุงูุตูุญุฉ ุชุญุชุงุฌ ูุนูููุงุช ุงูุทุงูุจ ูููู ุงูุฃูุฑ. ูููู ุฃู ุชุฃุชู ูู:
- Backend API (ุฅุฐุง ูุงู ููู ุงูุฃูุฑ ูุณุฌู ุฏุฎูู)
- ูุนุงููุงุช URL
- ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุงูุชุฑุงุถูุฉ

## ๐งช ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ

ุฅุฐุง ูู ููู ูุฏูู ุจูุงูุงุช ุญููููุฉุ ูููู ุงุณุชุฎุฏุงู ุจูุงูุงุช ุชุฌุฑูุจูุฉ:

```javascript
// ูุซุงู ุนูู ุทุงูุจ ุชุฌุฑูุจู
{
  id: "student_001",
  name: "ุฃุญูุฏ ูุญูุฏ ุนูู",
  nationalId: "1234567890",
  class: "ุงูุตู ุงูุฎุงูุณ ุฃ",
  guardianName: "ูุญูุฏ ุนูู",
  guardianPhone: "0501234567"
}
```

## ๐ ุงูุชุญูู ูู ูุฌุงุญ ุงูุทูุจ

### ูู Firestore Console:
1. ุงุฐูุจ ุฅูู Firebase Console
2. Firestore Database โ Data
3. ุงุจุญุซ ุนู ุงููุณุงุฑ:
   ```
   schools/school_test_001/autoCallQueue
   ```
4. ูุฌุจ ุฃู ุชุฑู ูุซููุฉ ุฌุฏูุฏุฉ ุจูุนูููุงุช ุงูุทูุจ

### ูู ุดุงุดุฉ ุงูุนุฑุถ:
- ูุฌุจ ุฃู ูุธูุฑ ุงุณู ุงูุทุงูุจ ุจุฎุท ูุจูุฑ
- ูุนูููุงุช ููู ุงูุฃูุฑ
- ูุคูุช ุงูุนุฏ ุงูุชูุงุฒูู

### ูู ุตูุญุฉ ุงูุฅุฏุงุฑุฉ:
- ุชุจููุจ "Queue" โ ูุฌุจ ุฃู ูุธูุฑ ุงูุทูุจ
- ุญุงูุฉ ุงูุทูุจ: "Announcing" ุฃู "Pending"

## โ๏ธ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: ูุง ูุธูุฑ ุดูุก ุจุนุฏ ุงูุถุบุท ุนูู ุงูุฒุฑ
**ุงูุญููู:**
1. ุชุญูู ูู Console ูู ุงููุชุตูุญ (F12)
2. ุชุฃูุฏ ูู ุฃู Firestore ููุนูู
3. ุชุฃูุฏ ูู ููุงุนุฏ ุงูุฃูุงู ุชุณูุญ ุจุงููุชุงุจุฉ
4. ุชุญูู ูู ุฃู `schoolId` ูุญุฏุฏ

### ุงููุดููุฉ: ุฎุทุฃ "ูุง ูููู ุฅูุดุงุก ููุงุฏุงุฉ"
**ุงูุณุจุจ:** ูุนุฑูู ุงููุฏุฑุณุฉ ุบูุฑ ูุญุฏุฏ

**ุงูุญู:**
ุชุฃูุฏ ูู ูุฌูุฏ `VITE_AUTO_CALL_FALLBACK_SCHOOL_ID` ูู ููู `.env`:
```bash
VITE_AUTO_CALL_FALLBACK_SCHOOL_ID=school_test_001
```

### ุงููุดููุฉ: ุงูุทูุจ ูุธูุฑ ูู Firestore ููู ูุง ูุธูุฑ ูู ุงูุดุงุดุฉ
**ุงูุณุจุจ:** ูุดููุฉ ูู ุงูุงุดุชุฑุงูุงุช ุงููุญุธูุฉ

**ุงูุญู:**
1. ุฃุนุฏ ุชุญููู ุตูุญุฉ ุงูุนุฑุถ
2. ุชุญูู ูู Console ููุฃุฎุทุงุก
3. ุชุฃูุฏ ูู ุฃู ุงููุณุงุฑ ุตุญูุญ ูู Firestore

## ๐จ ุชุฎุตูุต ุตูุญุฉ ููู ุงูุฃูุฑ

ุงูุตูุญุฉ ููุฌูุฏุฉ ูู:
```
src/modules/guardian/pages/guardian-leave-request-page.tsx
```

ููููู ุชุนุฏูู:
- ุชุตููู ุงููุงุฌูุฉ
- ุงููุตูุต ูุงูุฑุณุงุฆู
- ููุทู ุงูุชุญูู ูู ุงููููุน (Geofence)
- ุดุฑูุท ุงูุญุธุฑ

## ๐ ููุฒุงุช ุงูุฃูุงู ุงููุฏูุฌุฉ

ุตูุญุฉ ููู ุงูุฃูุฑ ุชุชุถูู:

1. **ุงูุชุญูู ูู ุงููููุน ุงูุฌุบุฑุงูู (Geofence)**
   - ูููุน ุงูุทูุจ ุฅุฐุง ูุงู ููู ุงูุฃูุฑ ุจุนูุฏุงู ุนู ุงููุฏุฑุณุฉ
   - ูููู ุชุนุทููู ูู ุงูุฅุนุฏุงุฏุงุช

2. **ูุธุงู ุงูุญุธุฑ**
   - ูุญุธุฑ ููู ุงูุฃูุฑ ุจุนุฏ ุนุฏุฏ ูุนูู ูู ุงููุฎุงููุงุช
   - ุงููุฎุงููุฉ: ุนุฏู ุงูุงูุชุฒุงู ุจุงููุณุงูุฉ ุงููุญุฏุฏุฉ

3. **ููุน ุงูุงุฒุฏูุงุฌูุฉ**
   - ูุง ูููู ุฅูุดุงุก ุฃูุซุฑ ูู ุทูุจ ูุงุญุฏ ูููุณ ุงูุทุงูุจ ูู ููุณ ุงูููุช

## ๐ฑ ุงูุงุณุชุฎุฏุงู ุนูู ุงููุงุชู

ุงูุตูุญุฉ ูุชุฌุงูุจุฉ ุชูุงูุงู ููููู ุงุณุชุฎุฏุงููุง ูู:
- ุงููุงุชู ุงููุญููู
- ุงูุชุงุจูุช
- ุงูููุจููุชุฑ

ููุงุฎุชุจุงุฑ ุนูู ุงููุงุชู:
1. ุชุฃูุฏ ุฃู ุงููุงุชู ูุงูููุจููุชุฑ ุนูู ููุณ ุงูุดุจูุฉ
2. ุงุญุตู ุนูู IP ุงููุญูู ููููุจููุชุฑ:
   ```powershell
   ipconfig | Select-String "IPv4"
   ```
3. ุนูู ุงููุงุชูุ ุงูุชุญ:
   ```
   http://192.168.x.x:5173/guardian/leave-request
   ```
   (ุงุณุชุจุฏู `192.168.x.x` ุจุงูู IP ุงููุนูู)

## ๐ ุชุฏูู ุงูุจูุงูุงุช ุงููุงูู

```
1. ููู ุงูุฃูุฑ ูุถุบุท "ุทูุจ ุงุณุชูุงู"
   โ
2. ูุชู ุงูุชุญูู ูู:
   - โ ูู ููู ุงูุฃูุฑ ูุญุธูุฑุ
   - โ ูู ุงููููุน ุถูู ุงููุณุงูุฉ ุงููุณููุญุฉุ
   - โ ูู ููุฌุฏ ุทูุจ ูุดุท ููุทุงูุจุ
   โ
3. ุฅูุดุงุก ูุซููุฉ ูู Firestore:
   schools/{schoolId}/autoCallQueue/{randomId}
   โ
4. AutoCallProvider ูุณุชูุน ููุชุบููุฑุงุช (onSnapshot)
   โ
5. ุชุญุฏูุซ ุดุงุดุฉ ุงูุนุฑุถ ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ ููุฑุงู
   โ
6. ุจุนุฏ ุงููุฏุฉ ุงููุญุฏุฏุฉุ ูุชู ุงููุฏุงุก ูุฑุฉ ุฃุฎุฑู
   โ
7. ุนูุฏ ุงูุชุฃููุฏ ูู ุงูุฅุฏุงุฑุฉุ ููุชูู ุงูุทูุจ ุฅูู History
```

## ๐ ูุตุงุฆุญ ููุชุฌุฑุจุฉ

1. **ุงูุชุญ ุนุฏุฉ ุชุจููุจุงุช:**
   - ููู ุฃูุฑ + ุดุงุดุฉ ุนุฑุถ + ุฅุฏุงุฑุฉ
   - ููุฐุง ุชุฑู ุงูุชุญุฏูุซุงุช ุงููุญุธูุฉ ูู ูู ููุงู

2. **ุฌุฑุจ ุณููุงุฑูููุงุช ูุฎุชููุฉ:**
   - ุฅุถุงูุฉ ุนุฏุฉ ุทูุจุงุช ูุชุชุงููุฉ
   - ุฅูุบุงุก ุทูุจ ูู ุตูุญุฉ ุงูุฅุฏุงุฑุฉ
   - ุชุฃููุฏ ุงุณุชูุงู ุทุงูุจ

3. **ุฑุงูุจ Firestore Console:**
   - ุดุงูุฏ ุงูุจูุงูุงุช ููู ุชูุถุงู ูุชูุญุฏุซ ูุจุงุดุฑุฉ
   - ุชุนููู ุจููุฉ ุงูุจูุงูุงุช

4. **ุงุฎุชุจุฑ ุนูู ุฃุฌูุฒุฉ ูุชุนุฏุฏุฉ:**
   - ูุงุชู + ููุจููุชุฑ ูู ููุณ ุงูููุช
   - ุชุฃูุฏ ูู ุงูุชุฒุงูู ุงูููุฑู

---

## ๐ฏ ุงูุฎูุงุตุฉ

**ูุณุงุฑ ููู ุงูุฃูุฑ:**
```
http://localhost:5173/guardian/leave-request
```

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุงููุณุงุฑ ูู ุงููุชุตูุญ
2. ุงุถุบุท "ุทูุจ ุงุณุชูุงู ุงูุทุงูุจ"
3. ุดุงูุฏ ุงููุชูุฌุฉ ูู ุดุงุดุฉ ุงูุนุฑุถ ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ

**ูููุณุงุนุฏุฉ:**
- ุฑุงุฌุน `FIRESTORE_QUICK_START.md` ูุฅุนุฏุงุฏ Firebase
- ุฑุงุฌุน `FIREBASE_SETUP_GUIDE.md` ููุชูุงุตูู ุงููุงููุฉ
- ุชุญูู ูู Console ูู ุงููุชุตูุญ ููุฃุฎุทุงุก
